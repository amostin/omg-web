{"version":3,"sources":["components/Navigation/Sidebar.js","redux/storeApiKey.reducer.js","redux/index.js","redux/store.js","components/Navigation/Topbar.js","services/omgServer.js","pages/SignIn.js","pages/SignUp.js","pages/NotFound.js","pages/Home.js","components/Cards/ImportFileCard.js","pages/Import.js","components/Charts/Line/ChartBasic.js","components/Cards/CardBasicTitle.js","pages/ChartsByTag.js","pages/DataManager.js","pages/TagsManager.js","components/Navigation/Bottombar.js","components/TagActivation/ActivateBasicTag.js","pages/TagActivation.js","components/Cards/CardHistory.js","components/Dialogs/EditTagDialog.js","pages/TagHistory.js","routes.js","App.js","index.js"],"names":["Sidebar","className","id","to","Component","initState","apiKey","storeApiKey","state","action","type","value","combineReducers","store","createStore","reducers","Topbar","getCookie","name","props","cookies","get","setCookie","key","set","dispatch","this","routesDict","hasOwnProperty","window","location","pathname","setTitle","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","data-target","onClick","logout","withCookies","hostUrl","headers","Headers","a","fetch","credentials","method","getState","res","json","file","sensorModel","importName","formData","FormData","append","files","body","getChartDataFromTagName","tagName","datetimeRange","timeSelected","weekDaysSelected","url","toISOString","length","join","signin","email","password","JSON","stringify","console","log","signup","user","getDataDays","getImportNames","deleteFile","deleteAll","Authorization","Accept","ok","tag","date","startDatetime","endDatetime","datetimeBegin","tagId","tagDatetime","SignIn","toSignUp","handleSignIn","status","setState","message","token","setApiKey","setEmail","event","target","setPassword","error","document","getElementById","classList","remove","add","style","width","aria-describedby","placeholder","onChange","onKeyPress","showError","SignUp","handleSignUp","removeDangerInput","secret","dangerInput","confirmPassword","isValidEmail","isValidName","firstName","lastName","setAttribute","response","removeAttribute","setFirstName","setLastName","setSecret","setConfirmPassword","toSignIn","lastname","messageApi","showSmallButtons","inputs","input","test","String","toLowerCase","showSuccess","NotFound","data-text","withRouter","Home","ImportFileCard","uploadFile","upload","postUpload","then","catch","toString","contains","fileChange","now","Date","filename","toLocaleString","importNameChange","sensorModelChange","changeUploadButtonStatus","newIcon","newBtnColor","btnText","upBtn","upBtnIcn","upBtnTxt","forEach","startsWith","innerText","resultRequest","htmlFor","defaultValue","accept","uploadResults","Import","Chart","defaults","global","defaultFontFamily","defaultFontColor","ChartBasic","changeTagSelected","data","tagSelected","changeDatetimeRange","changeTimeSelected","changeWeekDaysSelected","changeConfig","config","changeMyChart","myChart","loadingData","options","annotation","annotations","drawTime","mode","scaleID","borderColor","borderWidth","borderDash","responsive","maintainAspectRatio","scales","xAxes","time","unit","ticks","padding","autoSkip","maxTicksLimit","yAxes","paddings","legend","display","position","tooltips","backgroundColor","bodyFontColor","titleMarginBottom","titleFontColor","titleFontSize","xPadding","yPadding","displayColors","intersect","caretPadding","prevProps","prevState","snapshot","getChartData","update","paletteDark","palette","showData","map","arr","push","setAverageDataset","i","oneDataset","label","hour","minute","second","day","month","year","lineTension","pointRadius","fill","pointBackgroundColor","pointBorderColor","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointHitRadius","pointBorderWidth","spanGaps","Object","keys","newConfig","chartData","averageLength","array","filter","reduce","b","indexOf","Math","round","getContext","CardBasicTitle","setContainerClassName","ret","color","checkMobile","setTitleClassName","title","check","navigator","userAgent","vendor","opera","substr","children","ChartsByTag","tagChange","fromTimeChange","toTimeChange","tags","loadingTags","dtrp","fromTime","toTime","getAllTagsFromUserId","unshift","e","selected","find","splice","hidden","begin","end","selector","checkboxes","weekDaysChange","tagSelector","setTimeSelector","setDaysCheckboxes","renderChart","DataManager","dataDays","importNames","selectedImport","deleteResults","selectedImportChange","refresh","setHours","select","childNodes","revertClick","rvtBtn","node","createElement","appendChild","createTextNode","eraseClick","eraseBtn","opt","innerHTML","hasChildNodes","item","calendar","tileClassName","view","includes","setCalendar","setDeleteCard","TagsManager","Bottombar","tabs","route","icon","Nav","tab","index","NavItem","activeStyle","fontWeight","activeClassName","ActivateBasicTag","chosenDatetimeChange","chosenDatetime","getDatePickerFormat","recentTagClick","manualTagInput","chosenTag","manualBasicTagInputChange","radio","querySelector","checked","basicConfirmButtonClick","chosenDatatimeISO","postBasicTag","changeBasicConfirmButtonStatus","basicBtn","basicBtnTxt","recentTags","getRecentTags","TextField","coeff","getTime","initDate","roundTo5Minutes","setUTCHours","getUTCHours","getTimezoneOffset","showRecentTags","manualTag","showDatetime","showBasicConfirmButton","activationResults","TagActivation","CardHistory","EditTagDialog","React","useState","open","setOpen","setTagName","setTagDatetime","handleClose","refreshPage","reload","Dialog","onClose","DialogTitle","DialogContent","DialogActions","putOneTag","TagsHistory","loadTags","datetime","getTagsHistory","tagsHistory","concat","hasMore","tagHistoryCount","items","Array","from","getCountAllActivations","tagsHistoryCount","href","aria-controls","toLocaleDateString","dataLength","next","loader","setInfiniteScrollContent","setInfiniteScrollComponent","Routes","isConnected","requestLoading","showAuth","showRouter","testKey","requestOk","verifyToken","exact","path","component","showFooter","App","ReactDOM","render","CookiesProvider","Store"],"mappings":"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","file":"static/js/main.d24dc0ed.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n/**\r\n *  This is the sidebar of the web application. Allows user to navigate between the different pages of the application\r\n */\r\nclass Sidebar extends Component {\r\n    render() {\r\n        return (\r\n            <ul className=\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\" id=\"accordionSidebar\">\r\n\r\n                {/* <!-- Sidebar - Brand --> */}\r\n                <Link className=\"sidebar-brand d-flex align-items-center justify-content-center\" to=\"/index\">\r\n                    <div className=\"sidebar-brand-icon\">\r\n                        <i className=\"fas fa-chart-area\"/>\r\n                    </div>\r\n                    <div className=\"sidebar-brand-text mx-3\">OMG</div>\r\n                </Link>\r\n\r\n                {/* <!-- Divider --> */}\r\n                <hr className=\"sidebar-divider my-0\"/>\r\n\r\n                {/* <!-- Nav Item - Home --> */}\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/index\">\r\n                        <i className=\"fas fa-fw fa-home\"/>\r\n                        <span>Home</span></Link>\r\n                </li>\r\n\r\n                {/* <!-- Divider --> */}\r\n                <hr className=\"sidebar-divider\"/>\r\n\r\n                {/* <!-- Heading --> */}\r\n                <div className=\"sidebar-heading\">\r\n                    Charts\r\n                </div>\r\n\r\n                {/* <!-- Nav Item - Home --> */}\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/chartsbytag\">\r\n                        <i className=\"fas fa-fw fa-tag\"/>\r\n                        <span>By Tag</span></Link>\r\n                </li>\r\n\r\n                {/* <!-- Divider --> */}\r\n                <hr className=\"sidebar-divider\"/>\r\n\r\n                {/* <!-- Heading --> */}\r\n                <div className=\"sidebar-heading\">\r\n                    Tools\r\n                </div>\r\n\r\n                {/* <!-- Nav Item - tag activation --> */}\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link pb-2\" to=\"/tagactivation\">\r\n                        <i className=\"fas fa-fw fa-plus-circle\"/>\r\n                        <span>Tag activation</span></Link>\r\n                </li>\r\n\r\n                {/* <!-- Nav Item - tag activation --> */}\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link pt-2 pb-2\" to=\"/tagshistory\">\r\n                        <i className=\"fas fa-fw fa-history\"/>\r\n                        <span>Tags history</span></Link>\r\n                </li>\r\n\r\n                {/* <!-- Nav Item - upload data --> */}\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link pt-2\" to=\"/import\">\r\n                        <i className=\"fas fa-fw fa-file-upload\"/>\r\n                        <span>Import data</span></Link>\r\n                </li>\r\n\r\n                {/* <!-- Divider --> */}\r\n                <hr className=\"sidebar-divider\"/>\r\n\r\n                {/* <!-- Heading --> */}\r\n                <div className=\"sidebar-heading\">\r\n                    Manage\r\n                </div>\r\n                {/* <!-- Nav Item - manage data --> */}\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link pb-2\" to=\"/dataManager\">\r\n                        <i className=\"fas fa-fw fa-database\"/>\r\n                        <span>Data</span></Link>\r\n                </li>\r\n\r\n                {/* <!-- Nav Item - manage tags --> */}\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link pt-2\" to=\"/tagsManager\">\r\n                        <i className=\"fas fa-fw fa-tags\"/>\r\n                        <span>Tags</span></Link>\r\n                </li>\r\n\r\n            </ul>)\r\n    }\r\n}\r\n\r\nexport default Sidebar;\r\n","const initState = {apiKey: \"\"};\r\n\r\n/**\r\n * stores the API key\r\n *\r\n * @param state\r\n * @param action\r\n * @return {{apiKey}|{apiKey: string}}\r\n */\r\nfunction storeApiKey(state=initState, action){\r\n    let nextState;\r\n    switch (action.type){\r\n        case 'SETKEY':\r\n            nextState = {\r\n                apiKey: action.value\r\n            };\r\n            return nextState || state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default storeApiKey;\r\n","import { combineReducers } from 'redux';\r\nimport storeApiKey from \"./storeApiKey.reducer\";\r\n\r\nexport default combineReducers({\r\n    storeApiKey\r\n});\r\n","import { createStore } from 'redux';\r\nimport reducers from './index';\r\n\r\nconst store = createStore(reducers);\r\n\r\nexport default store;\r\n","import React, {Component} from 'react';\r\nimport {instanceOf} from \"prop-types\";\r\nimport {Cookies, withCookies} from \"react-cookie\";\r\nimport store from \"../../redux/store\";\r\n\r\n/**\r\n * This is the topbar of the web application. Allows user to access the application and account settings\r\n */\r\nclass Topbar extends Component {\r\n\r\n    static propTypes = {\r\n        cookies: instanceOf(Cookies).isRequired\r\n    };\r\n\r\n    logout() {\r\n        store.dispatch({type: 'SETKEY', value: \"\"});\r\n        this.setCookie(\"apiKey\", \"\");\r\n    }\r\n\r\n    setTitle() {\r\n        let routesDict = {\r\n            \"/\": \"Home\",\r\n            \"/index\": \"Home\",\r\n            \"/datamanager\": \"Data Manager\",\r\n            \"/tagsmanager\": \"Tags Manager\",\r\n            \"/tagactivation\": \"Tag Activation\",\r\n            \"/tagshistory\": \"History\",\r\n            \"/fileUpload\": \"Import data\",\r\n            \"/chartsbyTag\": \"Charts by tag\"\r\n        };\r\n        if (routesDict.hasOwnProperty(window.location.pathname)) {\r\n            return <p id={\"topbarTitle\"} className={\"navbar-brand mb-0\"}>{routesDict[window.location.pathname]}</p>\r\n        } else {\r\n            return <p id={\"topbarTitle\"} className={\"navbar-brand mb-0\"}/>\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow\">\r\n                {/* <!-- Topbar Navbar --> */}\r\n                <div>\r\n                    {this.setTitle()}\r\n                </div>\r\n\r\n                <ul className=\"navbar-nav ml-auto\">\r\n                    <div className=\"topbar-divider mr-0 d-sm-block\"/>\r\n                    {/* <!-- Nav Item - User Information --> */}\r\n                    <li className=\"nav-item dropdown no-arrow \">\r\n                        <div className=\"nav-link dropdown-toggle\" id=\"userDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <span className=\"mr-2 d-lg-inline text-gray-600\">User</span>\r\n                            {/*<img className=\"img-profile rounded-circle\" src=\"https://source.unsplash.com/QAB-WJcbgJk/60x60\" alt=\"user\"/>*/}\r\n                            <i className=\"fas fa-2x fa-fw fa-user-circle\"/>\r\n                        </div>\r\n                        {/* <!-- Dropdown - User Information --> */}\r\n                        <div className=\"dropdown-menu dropdown-menu-right shadow animated--grow-in\" aria-labelledby=\"userDropdown\">\r\n                            <div className=\"dropdown-item\">\r\n                                <i className=\"fas fa-user fa-sm fa-fw mr-2 text-gray-400\"/>\r\n                                Profile\r\n                            </div>\r\n                            <div className=\"dropdown-item\">\r\n                                <i className=\"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400\"/>\r\n                                Settings\r\n                            </div>\r\n                            <div className=\"dropdown-divider\"/>\r\n                            <button className=\"dropdown-item\" data-toggle=\"modal\" data-target=\"#logoutModal\" onClick={() => this.logout()}>\r\n                                <i className=\"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400\"/>\r\n                                Logout\r\n                            </button>\r\n                        </div>\r\n                    </li>\r\n\r\n                </ul>\r\n\r\n            </nav>\r\n\r\n        )\r\n    }\r\n\r\n    getCookie = (name) => {\r\n        return this.props.cookies.get(name);\r\n    }\r\n\r\n    setCookie = (name, key) => {\r\n        this.props.cookies.set(name, key);\r\n    }\r\n}\r\n\r\nexport default withCookies(Topbar);\r\n","import store from \"../redux/store\";\r\n\r\n//\r\n// Service file that contains all the requests for the OMG server API.\r\n//\r\n\r\nconst hostUrl = \"http://192.168.0.20:3001\"  // Url of the OMG server\r\nconst headers = new Headers({\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Accept-Charset': 'utf-8',\r\n    'Accept-Encoding': 'gzip, deflate, br'\r\n});\r\n\r\n/**\r\n * get all tags of a user\r\n *\r\n * @return {Promise<any>} : all tags of a user or an error\r\n */\r\nexport async function getAllTagsFromUserId() {\r\n    let url = hostUrl + \"/tags/all\";\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n            'Authorization': \"Bearer \" + store.getState().storeApiKey.apiKey\r\n        }\r\n    });\r\n    return res.json();\r\n}\r\n\r\n/**\r\n * post a file data for data importation\r\n *\r\n * @param file\r\n * @param sensorModel\r\n * @param importName\r\n * @return {Promise<(Response|any)[]|*>} : results of the importation\r\n */\r\nexport async function postUpload(file, sensorModel, importName) {\r\n    try {\r\n        let url = hostUrl + \"/data/file\";\r\n        let formData = new FormData();\r\n        formData.append('file', file.files[0]);\r\n        formData.append('sensorModel', sensorModel);\r\n        formData.append('importName', importName);\r\n        let res = await fetch(url, {\r\n            credentials: \"same-origin\",\r\n            method: 'POST',\r\n            body: formData,\r\n            headers: {\r\n                'Authorization': \"Bearer \" + store.getState().storeApiKey.apiKey,\r\n                'Accept': 'application/json',\r\n                'Accept-Charset': 'utf-8',\r\n                'Accept-Encoding': 'gzip, deflate, br'\r\n            }\r\n        });\r\n        return [res, await res.json()];\r\n    } catch (e) {\r\n        return e;\r\n    }\r\n}\r\n\r\n/**\r\n * retrieves the user's data according to the tag in parameter\r\n *\r\n * @param tagName\r\n * @param datetimeRange\r\n * @param timeSelected\r\n * @param weekDaysSelected\r\n * @return {Promise<any>} : all the data or an error.\r\n */\r\nexport async function getChartDataFromTagName(tagName, datetimeRange, timeSelected, weekDaysSelected) {\r\n    let url = hostUrl + \"/data/chart?tagName=\" + tagName + \"&fromTime=\" + timeSelected[0] + \"&toTime=\" + timeSelected[1];\r\n    if (datetimeRange) {\r\n        url += \"&startDate=\" + datetimeRange[0].toISOString() + \"&endDate=\" + datetimeRange[1].toISOString();\r\n    }\r\n    if (weekDaysSelected.length > 0) {\r\n        url += \"&weekDays=\" + weekDaysSelected.join('-');\r\n    }\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n            'Authorization': \"Bearer \" + store.getState().storeApiKey.apiKey\r\n        }\r\n    });\r\n    return res.json();\r\n}\r\n\r\n/**\r\n * Signin request\r\n *\r\n * @param email\r\n * @param password\r\n * @return {Promise<any>} : returns the token if ok or an error if not ok\r\n */\r\nexport async function signin(email, password) {\r\n    let url = hostUrl + \"/users/signin\";\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify({\r\n            email: email,\r\n            password: password,\r\n        })\r\n    });\r\n    console.log(res);\r\n    return res.json();\r\n}\r\n\r\n/**\r\n * Signup request\r\n *\r\n * @param user : JSON object that contains a user context\r\n * @return {Promise<any>} : returns the result of the request\r\n */\r\nexport async function signup(user) {\r\n    let url = hostUrl + \"/users/signup\";\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: JSON.stringify(user)\r\n    });\r\n    return res.json();\r\n}\r\n\r\n/**\r\n * Get all the days that contain data\r\n *\r\n * @return Array of date {Promise<any>}\r\n */\r\nexport async function getDataDays() {\r\n    let url = hostUrl + \"/data/datadays\";\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n            'Authorization': \"Bearer \" + store.getState().storeApiKey.apiKey\r\n        }\r\n    });\r\n    return res.json();\r\n}\r\n\r\nexport async function getImportNames() {\r\n    let url = hostUrl + \"/data/importnames\";\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n            'Authorization': \"Bearer \" + store.getState().storeApiKey.apiKey\r\n        }\r\n    });\r\n    return res.json();\r\n}\r\n\r\nexport async function deleteFile(importName) {\r\n    let url = hostUrl + \"/data/file\";\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n            'Authorization': \"Bearer \" + store.getState().storeApiKey.apiKey\r\n        },\r\n        body: '{\"importName\": \"' + importName + '\"}'\r\n    });\r\n    return [res, await res.json()];\r\n}\r\n\r\nexport async function deleteAll() {\r\n    try {\r\n        let url = hostUrl + \"/data/all\";\r\n        let res = await fetch(url, {\r\n            credentials: 'same-origin',\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Accept-Charset': 'utf-8',\r\n                'Accept-Encoding': 'gzip, deflate, br',\r\n                'Authorization': \"Bearer \" + store.getState().storeApiKey.apiKey\r\n            }\r\n        });\r\n        return [res, await res.json()];\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\n/**\r\n * verify token request\r\n *\r\n * @return {Promise<Response>}\r\n */\r\nexport async function verifyToken() {\r\n    let url = hostUrl + '/users/verify';\r\n    return await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            Authorization: 'Bearer ' + store.getState().storeApiKey.apiKey,\r\n            Accept: 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n        },\r\n    });\r\n}\r\n\r\n/**\r\n * recent tags request\r\n *\r\n * @return {Promise<null|any>} : 8 most recent tags or error\r\n */\r\nexport async function getRecentTags() {\r\n    let url = hostUrl + '/tags/recent';\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            Authorization: 'Bearer ' + store.getState().storeApiKey.apiKey,\r\n            Accept: 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n        },\r\n    });\r\n    if (res.ok) {\r\n        return await res.json();\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * request for insert activation tag in the database\r\n *\r\n * @param tag\r\n * @param date\r\n * @return {Promise<any>} : return result request\r\n */\r\nexport async function postBasicTag(tag, date) {\r\n    try {\r\n        const url = hostUrl + '/tags/one';\r\n        let res = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                Authorization: 'Bearer ' + store.getState().storeApiKey.apiKey,\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                tag: tag,\r\n                startDatetime: date,\r\n                endDatetime: date,\r\n            }),\r\n        });\r\n        if (res.ok) {\r\n            return await res.json();\r\n        } else {\r\n            return null;\r\n        }\r\n    } catch (e) {\r\n        return e;\r\n    }\r\n}\r\n\r\n/**\r\n * Retrieves the 10 most recent tags based on the creation date passed in parameters\r\n *\r\n * @param datetimeBegin\r\n * @return {Promise<null|any>} : 10 most recent tags or error\r\n */\r\nexport async function getTagsHistory(datetimeBegin) {\r\n    let url = hostUrl + '/tags/recentHistory?datetimeBegin=' + datetimeBegin ;\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            Authorization: 'Bearer ' + store.getState().storeApiKey.apiKey,\r\n            Accept: 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n        },\r\n    });\r\n    if (res.ok) {\r\n        return await res.json();\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Retrieves the count of all activated tag\r\n *\r\n * @return {Promise<null|any>} count or error\r\n */\r\nexport async function getCountAllActivations() {\r\n    let url = hostUrl + '/tags/countAllActivations';\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'GET',\r\n        headers: {\r\n            Authorization: 'Bearer ' + store.getState().storeApiKey.apiKey,\r\n            Accept: 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n        },\r\n    });\r\n    if (res.ok) {\r\n        return await res.json();\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function putOneTag(tagName, tagId, tagDatetime) {\r\n    let url = hostUrl + '/tags/one';\r\n    let res = await fetch(url, {\r\n        credentials: 'same-origin',\r\n        method: 'PUT',\r\n        headers: {\r\n            Authorization: 'Bearer ' + store.getState().storeApiKey.apiKey,\r\n            Accept: 'application/json',\r\n            'Accept-Charset': 'utf-8',\r\n            'Accept-Encoding': 'gzip, deflate, br',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            tagId: tagId,\r\n            tagDatetime: tagDatetime,\r\n            tagName: tagName,\r\n        })\r\n    });\r\n    if (res.ok) {\r\n        return await res.json();\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {signin} from \"../services/omgServer\";\r\nimport {withCookies, Cookies} from \"react-cookie\";\r\nimport {instanceOf} from \"prop-types\";\r\nimport store from \"../redux/store\";\r\n\r\nclass SignIn extends Component {\r\n\r\n    static propTypes = {\r\n        cookies: instanceOf(Cookies).isRequired\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            error: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.getElementById('body').className = 'bg-gradient-primary'\r\n    }\r\n\r\n    toSignUp = async () => {\r\n        await this.setCookie(\"method\",\"up\");\r\n    }\r\n\r\n    handleSignIn = async () => {\r\n        if (this.state.email !== \"\" && this.state.password !== \"\") {\r\n            let res = await signin(this.state.email, this.state.password);\r\n            if (res.status !== 'ok'){\r\n                this.setState({'error': res.message});\r\n            }\r\n            else {\r\n                await this.setCookie(\"apiKey\", res.token);\r\n                await this.setApiKey(res.token);\r\n                return <Redirect to=\"/\"/>;\r\n            }\r\n        } else {\r\n            this.setState({'error': 'Missing email and/or password'})\r\n        }\r\n    };\r\n\r\n    showError() {\r\n        let message = '';\r\n        if (this.state.error !== '') {\r\n            document.getElementById('horizLine').classList.remove('mt-4');\r\n            document.getElementById('horizLine').classList.add('mt-0');\r\n            message = (\r\n                <div className=\"text-danger d-flex justify-content-center mt-3 mb-0\">\r\n                    <p>{this.state.error}</p>\r\n                </div>\r\n            );\r\n        }\r\n        return message;\r\n    }\r\n\r\n    setEmail = (event) => this.setState({email: event.target.value});\r\n    setPassword = (event) => this.setState({password: event.target.value});\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"col-12\"}>\r\n                <div id=\"wrapper d-flex flex-column\">\r\n                    <div className=\"row ml-4 mt-4 d-flex flex-row align-items-center\">\r\n                        <i className=\"fas fa-chart-area fa-4x text-white mb-1\"/>\r\n                        <div className=\"ml-3 h1 mb-0 text-white font-weight-bold\">OMG</div>\r\n                    </div>\r\n                    {/* <!-- Outer Row --> */}\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"card o-hidden border-0 shadow-lg mt-5 ml-2 mr-2 mb-2\" style={{width: \"20rem\"}}>\r\n                            <div className=\"card-body\">\r\n                                {/* <!-- Nested Row within Card Body --> */}\r\n                                <div className=\"p-3\">\r\n                                    <div className=\"row justify-content-center flex-column\">\r\n                                        <h1 className=\"h3 text-gray-900 mb-4\">Sign in</h1>\r\n                                        <div className=\"user\">\r\n                                            <div className=\"form-group\">\r\n                                                <input type=\"email\" className=\"form-control form-control-user\"\r\n                                                       id=\"exampleInputEmail\" aria-describedby=\"emailHelp\"\r\n                                                       placeholder=\"Email\"\r\n                                                       onChange={this.setEmail}/>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <input type=\"password\" className=\"form-control form-control-user\"\r\n                                                       id=\"exampleInputPassword\" placeholder=\"Password\"\r\n                                                       onChange={this.setPassword}\r\n                                                       onKeyPress={event => event.key === 'Enter' ? this.handleSignIn : ''}/>\r\n                                            </div>\r\n                                            <button className=\"btn btn-primary btn-user btn-block\"\r\n                                                    onClick={this.handleSignIn}>\r\n                                                Login\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    {this.showError()}\r\n                                    <hr id=\"horizLine\" className=\"mt-4\"/>\r\n                                    <div className=\"row justify-content-center flex-column\">\r\n                                        <div className=\"text-center\">\r\n                                            <button className=\"btn btn-link disabled\">Forgot Password?</button>\r\n                                        </div>\r\n                                        <div className=\"text-center\">\r\n                                            <button className=\"btn btn-link\" onClick={this.toSignUp}>Create an Account!</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n\r\n    setCookie = (name, key) => {\r\n        this.props.cookies.set(name, key);\r\n    }\r\n\r\n    async setApiKey(apiKey) {\r\n        store.dispatch({type: 'SETKEY', value: apiKey});\r\n    }\r\n\r\n}\r\n\r\nexport default withCookies(SignIn);\r\n","import React, {Component} from 'react';\r\nimport {signup} from \"../services/omgServer\";\r\nimport {Cookies, withCookies} from \"react-cookie\";\r\nimport {instanceOf} from \"prop-types\";\r\n\r\n\r\nclass SignUp extends Component {\r\n\r\n    static propTypes = {\r\n        cookies: instanceOf(Cookies).isRequired\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstName: '',\r\n            lastname: '',\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n            error: '',\r\n            messageApi: '',\r\n            showSmallButtons: true,\r\n            secret: '',\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.getElementById('body').className = 'bg-gradient-primary'\r\n    }\r\n\r\n    handleSignUp = async () => {\r\n        this.setState({'error': ''})\r\n        this.removeDangerInput(['inputFirstName', 'inputLastName', 'inputEmail', 'inputPassword', 'inputConfirmPassword']);\r\n        if (this.state.secret !== 'createAccount2121'){\r\n            this.dangerInput(['inputSecret'])\r\n            await this.setState({'error': 'Wrong secret'});\r\n        }\r\n        if (this.state.password !== this.state.confirmPassword) {\r\n            this.dangerInput(['inputPassword', 'inputConfirmPassword']);\r\n            await this.setState({'error': 'Passwords must match'});\r\n        } else {\r\n            if (this.state.password.length < 8) {\r\n                this.dangerInput(['inputPassword', 'inputConfirmPassword']);\r\n                await this.setState({'error': 'Password must be at least 8 characters long'});\r\n            }\r\n        }\r\n        if (!this.isValidEmail(this.state.email)) {\r\n            this.dangerInput(['inputEmail']);\r\n            await this.setState({'error': \"Incorrect email\"});\r\n        }\r\n        if (!this.isValidName(this.state.firstName)) {\r\n            this.dangerInput(['inputFirstName']);\r\n            await this.setState({'error': \"You can't use special characters for names\"})\r\n        }\r\n        if (!this.isValidName(this.state.lastName)) {\r\n            this.dangerInput(['inputLastName']);\r\n            await this.setState({'error': \"You can't use special characters for names\"})\r\n        }\r\n        if (!this.state.error) {\r\n            document.getElementById('btnSignUp').classList.remove('btn-primary');\r\n            document.getElementById('btnSignUp').setAttribute('disabled', 'true');\r\n            document.getElementById('btnSignUp').classList.add('btn-secondary');\r\n            let response = await signup({\r\n                'firstName': this.state.firstName,\r\n                'lastName': this.state.lastName,\r\n                'email': this.state.email,\r\n                'password': this.state.password\r\n            });\r\n            console.log(response);\r\n            if (response.status === 'ok'){\r\n                this.setState({'messageApi': response.message, 'showSmallButtons': false});\r\n            }\r\n            if (response.status === 'error'){\r\n                this.setState({'error': response.message});\r\n                document.getElementById('btnSignUp').classList.remove('btn-secondary');\r\n                document.getElementById('btnSignUp').removeAttribute('disabled');\r\n            }\r\n        }\r\n    };\r\n\r\n    dangerInput(inputs) {\r\n        for (let input of inputs) {\r\n            document.getElementById(input).classList.add('border-danger');\r\n        }\r\n    }\r\n\r\n    removeDangerInput(inputs) {\r\n        for (let input of inputs) {\r\n            document.getElementById(input).classList.remove('border-danger');\r\n        }\r\n    }\r\n\r\n    showError() {\r\n        let message = '';\r\n        if (this.state.error !== '') {\r\n            document.getElementById('horizLine').classList.remove('mt-4');\r\n            document.getElementById('horizLine').classList.add('mt-0');\r\n            message = (\r\n                <div className=\"text-danger d-flex justify-content-center mt-3 mb-0\">\r\n                    <p>{this.state.error}</p>\r\n                </div>\r\n            );\r\n        }\r\n        return message;\r\n    }\r\n\r\n    showSuccess() {\r\n        let message = '';\r\n        if (this.state.messageApi !== '') {\r\n            document.getElementById('horizLine').classList.remove('mt-4');\r\n            document.getElementById('horizLine').classList.add('mt-0');\r\n            message = (\r\n                <div className=\"text-success d-flex justify-content-center mt-3 mb-0\">\r\n                    <p>{this.state.messageApi}</p>\r\n                </div>\r\n            );\r\n        }\r\n        return message;\r\n    }\r\n\r\n    isValidName(name) {\r\n        let re = /^[a-zA-Z ,.'-]+$/u;\r\n        return re.test(String(name).toLowerCase());\r\n    }\r\n\r\n    isValidEmail(email) {\r\n        let re = /^(([^<>()q[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    }\r\n\r\n    showSmallButtons(){\r\n        if (this.state.showSmallButtons){\r\n            return(\r\n                <div id=\"smallButtons\" className=\"row justify-content-center flex-column\">\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-link disabled\">Forgot Password?</button>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-link\" onClick={this.toSignIn}>Already an account ? Sign in!</button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else{\r\n            return(\r\n                <div id=\"smallButtons\" className=\"row justify-content-center flex-column\">\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-primary\" onClick={this.toSignIn}>Sign in !</button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    setFirstName = (event) => this.setState({firstName: event.target.value});\r\n    setLastName = (event) => this.setState({lastName: event.target.value});\r\n    setEmail = (event) => this.setState({email: event.target.value});\r\n    setPassword = (event) => this.setState({password: event.target.value});\r\n    setSecret = (event) => this.setState({secret: event.target.value});\r\n    setConfirmPassword = (event) => this.setState({confirmPassword: event.target.value});\r\n    toSignIn = async () => await this.setCookie(\"method\", \"in\");\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"col-12\"}>\r\n                <div id=\"wrapper d-sm-flex flex-column\">\r\n                    <div className=\"row ml-4 mt-4 d-flex flex-row align-items-center\">\r\n                        <i className=\"fas fa-chart-area fa-4x text-white mb-1\"/>\r\n                        <div className=\"ml-3 h1 mb-0 text-white font-weight-bold\">OMG</div>\r\n                    </div>\r\n                    {/* <!-- Outer Row --> */}\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"card o-hidden border-0 shadow-lg mt-5 ml-2 mr-2 mb-2\">\r\n                            <div className=\"card-body\">\r\n                                {/* <!-- Nested Row within Card Body --> */}\r\n                                <div className=\"p-3\">\r\n                                    <div className=\"row justify-content-center flex-column\">\r\n                                        <h1 className=\"h3 text-gray-900 mb-4\">Create an account</h1>\r\n                                        <div className=\"user justify-content-center\">\r\n                                            <div className=\"form-group d-flex flex-row\">\r\n                                                <input type=\"text\" className=\"form-control form-control-user\" id=\"inputFirstName\" aria-describedby=\"firstName\" placeholder=\"First name\" onChange={this.setFirstName}/>\r\n                                                <input type=\"text\" className=\"form-control form-control-user ml-2\" id=\"inputLastName\" aria-describedby=\"lastName\" placeholder=\"Last name\" onChange={this.setLastName}/>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <input type=\"email\" className=\"form-control form-control-user\" id=\"inputEmail\" aria-describedby=\"emailHelp\" placeholder=\"Email\" onChange={this.setEmail}/>\r\n                                            </div>\r\n                                            <div id=\"formGroupPassword\" className=\"form-group d-flex flex-row\">\r\n                                                <input type=\"password\" className=\"form-control form-control-user\" id=\"inputPassword\" placeholder=\"Password\" onChange={this.setPassword}/>\r\n                                                <input type=\"password\" className=\"form-control form-control-user ml-2\" id=\"inputConfirmPassword\" placeholder=\"Confirm password\" onChange={this.setConfirmPassword}/>\r\n                                            </div>\r\n                                            <div id=\"formGroupPassword\" className=\"form-group d-flex flex-row\">\r\n                                                <input type=\"password\" className=\"form-control form-control-user\" id=\"inputSecret\" placeholder=\"Secret\" onChange={this.setSecret}/>\r\n                                            </div>\r\n                                            <button id=\"btnSignUp\" className=\"btn btn-primary btn-user btn-block\" onClick={this.handleSignUp}>\r\n                                                Sign up\r\n                                            </button>\r\n                                            {this.showError()}\r\n                                            {this.showSuccess()}\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr id=\"horizLine\" className=\"mt-4\"/>\r\n                                    {this.showSmallButtons()}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n\r\n    getCookie = (name) => {\r\n        return this.props.cookies.get(name);\r\n    }\r\n\r\n    setCookie = (name, key) => {\r\n        this.props.cookies.set(name, key);\r\n    }\r\n\r\n}\r\n\r\nexport default withCookies(SignUp);\r\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\n/**\n * \"web page\" displayed when trying to display a page that does not exist\n */\nclass NotFound extends Component {\n    render() {\n        return (\n            <div id=\"content\">\n                <div className=\"container-fluid\">\n                    {/* <!-- 404 Error Text --> */}\n                    <div className=\"text-center\">\n                        <div className=\"error mx-auto\" data-text=\"404\">404</div>\n                        <p className=\"lead text-gray-800 mb-5\">Page Not Found</p>\n                        <p className=\"text-gray-500 mb-0\">It looks like you found a glitch in the matrix...</p>\n                        <Link to=\"/\">&larr; Back to main</Link>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(NotFound);\n","import React, { Component } from 'react';\r\n\r\n/**\r\n * Home page of the web application\r\n */\r\nclass Home extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"d-flex align-items-center justify-content-center\">\r\n                    <h1 className=\"h1 mb-0 text-gray-800\">Welcome to OMG Web application !</h1>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React, {Component} from 'react';\r\nimport {postUpload} from \"../../services/omgServer\";\r\n\r\n/**\r\n * component that implements the method of importing the data of a user via a CSV file\r\n */\r\nclass ImportFileCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            upload: \"\",  // state of the upload (0 -> not started, 1 -> request sent, 2 -> success, -1 -> error)\r\n            file: '',   // CSV data file\r\n            sensorModel: 'none',  // Chosen model pump\r\n            resultRequest: '', // API results of the request\r\n            importName: '', // Name of the import saved in database for deletion\r\n        }\r\n    }\r\n\r\n    /**\r\n     * manages the sending and the result of the data import request.\r\n     */\r\n    uploadFile = () => {\r\n        if (this.state.sensorModel !== \"none\") {\r\n            if (this.state.file) {\r\n                if (this.state.importName) {\r\n                    this.setState({upload: 1});\r\n                    postUpload(document.getElementById('dataFileAutoInput'), this.state.sensorModel, this.state.importName).then((res) => {\r\n                        if (res[0].ok) {\r\n                            this.setState({upload: 2})\r\n                        } else {\r\n                            this.setState({upload: -1})\r\n                        }\r\n                        this.setState({'resultRequest': res[1]})\r\n                    }).catch(res => this.setState({'upload': -1, 'resultRequest': res.toString()}));\r\n                } else {\r\n                    if (!document.getElementById(\"importName\").classList.contains(\"is-invalid\")) {\r\n                        document.getElementById(\"importName\").classList.add(\"is-invalid\");\r\n                    }\r\n                }\r\n            } else {\r\n                if (!document.getElementById(\"dataFileAutoInput\").classList.contains(\"is-invalid\")) {\r\n                    document.getElementById(\"dataFileAutoInput\").classList.add(\"is-invalid\");\r\n                }\r\n            }\r\n        } else {\r\n            if (!document.getElementById(\"sensorModelSelector\").classList.contains(\"is-invalid\")) {\r\n                document.getElementById(\"sensorModelSelector\").classList.add(\"is-invalid\");\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    fileChange = (event) => {\r\n        let now = new Date(Date.now());\r\n        let filename = document.getElementById(\"dataFileAutoInput\").files[0].name + \" - \" + now.toLocaleString();\r\n        this.setState({file: event.target.value, importName: filename});\r\n        document.getElementById(\"importName\").value = filename;\r\n        if (document.getElementById(\"dataFileAutoInput\").classList.contains(\"is-invalid\")) {\r\n            document.getElementById(\"dataFileAutoInput\").classList.remove(\"is-invalid\");\r\n        }\r\n        if (document.getElementById(\"importName\").classList.contains(\"is-invalid\")) {\r\n            document.getElementById(\"importName\").classList.remove(\"is-invalid\");\r\n        }\r\n        this.setState({upload: 0});\r\n    }\r\n\r\n    importNameChange = (event) => {\r\n        this.setState({importName: event.target.value});\r\n        if (document.getElementById(\"importName\").classList.contains(\"is-invalid\")) {\r\n            document.getElementById(\"importName\").classList.remove(\"is-invalid\");\r\n        }\r\n        this.setState({upload: 0});\r\n    }\r\n\r\n    sensorModelChange = (event) => {\r\n        this.setState({'sensorModel': event.target.value});\r\n        if (document.getElementById(\"sensorModelSelector\").classList.contains(\"is-invalid\")) {\r\n            document.getElementById(\"sensorModelSelector\").classList.remove(\"is-invalid\");\r\n        }\r\n        this.setState({upload: 0});\r\n    }\r\n\r\n    /**\r\n     * manages the display of the status of the data import request\r\n     *\r\n     * @return {JSX.Element}\r\n     */\r\n    uploadResults() {\r\n        let upBtn = document.getElementById(\"uploadButton\");\r\n        if (this.state.upload === -1) {\r\n            this.changeUploadButtonStatus(\"fa-times\", \"btn-danger\", \"error\");\r\n            document.getElementById(\"uploadButtonInvalidText\").innerText = this.state.resultRequest;\r\n        }\r\n        if (this.state.upload === 0) {\r\n            this.changeUploadButtonStatus(\"fa-upload\", \"btn-primary\", \"upload data\");\r\n            upBtn.removeAttribute(\"disabled\");\r\n            document.getElementById(\"uploadButtonInvalidText\").innerText = \"\";\r\n        }\r\n        if (this.state.upload === 1) {\r\n            this.changeUploadButtonStatus(\"fa-sync-alt\", \"btn-primary\", \"uploading...\");\r\n        }\r\n        if (this.state.upload === 2) {\r\n            this.changeUploadButtonStatus(\"fa-check\", \"btn-success\", \"uploaded !\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Visual change of upload button\r\n     *\r\n     * @param newIcon\r\n     * @param newBtnColor\r\n     * @param btnText\r\n     */\r\n    changeUploadButtonStatus = (newIcon, newBtnColor, btnText) => {\r\n        let upBtn = document.getElementById(\"uploadButton\");\r\n        let upBtnIcn = document.getElementById(\"uploadButtonIcon\");\r\n        let upBtnTxt = document.getElementById(\"uploadButtonText\");\r\n        upBtnIcn.classList.forEach((className) => {\r\n            if (className.startsWith('fa-')) {\r\n                upBtnIcn.classList.remove(className);\r\n            }\r\n        });\r\n        upBtn.classList.forEach((className) => {\r\n            if (className.startsWith('btn-primary') || className.startsWith('btn-danger') || className.startsWith('btn-success')) {\r\n                upBtn.classList.remove(className);\r\n            }\r\n        });\r\n        upBtn.setAttribute(\"disabled\", \"true\");\r\n        upBtn.classList.add(newBtnColor);\r\n        upBtnIcn.classList.add(newIcon);\r\n        upBtnTxt.innerText = btnText;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"uploadCard\" className=\"card d-flex border-bottom-primary shadow h-100 py-2\">\r\n                    <div className=\"card-body\">\r\n                        <div className=\"row no-gutters align-items-center\">\r\n                            <div className=\"col mr-2\">\r\n                                <div className=\"text font-weight-bold text-primary text-uppercase\">\r\n                                    File import\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr className=\"sidebar-divider\"/>\r\n                        <form className=\"ml-2 mr-2\" id=\"uploadForm\">\r\n                            <div className=\"row form-group\">\r\n                                <label className={\"form-check-label\"} htmlFor=\"sensorModelSelector\">Sensor model</label>\r\n                                <select className=\"form-control\" id=\"sensorModelSelector\" name=\"pumpModel\"\r\n                                        onChange={this.sensorModelChange} defaultValue={{value: \"none\"}}>\r\n                                    <option value=\"none\">Choose a model...</option>\r\n                                    <option value=\"minimed\">MiniMed</option>\r\n                                </select>\r\n                                <div className={\"invalid-feedback\"}>You have to choose a model</div>\r\n                            </div>\r\n\r\n                            <div className=\"row form-group mt-2\">\r\n                                <label className={\"form-check-label\"} htmlFor=\"importName\">Import name (default : filename)</label>\r\n                                <input type=\"text\" className={\"form-control\"} id=\"importName\" onChange={this.importNameChange}/>\r\n                                <div className={\"invalid-feedback\"}>You have to enter a import name</div>\r\n                            </div>\r\n                            <div className=\"row form-group mt-2\">\r\n                                <label className={\"form-check-label\"} htmlFor=\"dataFileAutoInput\">Sensor data CSV</label>\r\n                                <input type=\"file\" className=\"form-control-file\" id=\"dataFileAutoInput\" name=\"file\" accept=\".csv\" onChange={this.fileChange}/>\r\n                                <div className={\"invalid-feedback\"}>You have to choose a CSV file</div>\r\n                            </div>\r\n                        </form>\r\n                        <div className=\"row d-flex align-items-center justify-content-end mr-2\">\r\n                            <div id={\"uploadButtonInvalidText\"} className={\"text-danger mr-4\"}/>\r\n                            <button id={\"uploadButton\"} className=\"btn btn-primary btn-icon-split\" onClick={this.uploadFile}>\r\n                                <span className=\"icon text-white-50\">\r\n                                    <i id={\"uploadButtonIcon\"} className=\"fas fa-upload\"/>\r\n                                </span>\r\n                                <span id={\"uploadButtonText\"} className=\"text\">Upload data</span>\r\n                            </button>\r\n                        </div>\r\n                        {this.uploadResults()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImportFileCard;\r\n","import React, { Component } from 'react';\r\nimport ImportFileCard from \"../components/Cards/ImportFileCard\";\r\n\r\n/**\r\n * \"web page\" import data. It displays the different methods of importing user's data\r\n */\r\nclass Import extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid d-flex ml-2 mr-2\">\r\n                <ImportFileCard/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Import;\r\n","import React, {Component} from 'react';\r\nimport Chart from \"chart.js\";\r\nimport annotationPlugin from 'chartjs-plugin-annotation';\r\n\r\nimport {getChartDataFromTagName} from \"../../../services/omgServer\";\r\n\r\nChart.defaults.global.defaultFontFamily = 'Nunito';\r\nChart.defaults.global.defaultFontColor = '#858796';\r\n\r\n/**\r\n *  displays a chart based on the selected tag and user data\r\n *  @props tagSelected\r\n */\r\nclass ChartBasic extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tagSelected: this.props.tagSelected,\r\n            datetimeRange: this.props.datetimeRange,\r\n            timeSelected: this.props.timeSelected,\r\n            weekDaysSelected: this.props.weekDaysSelected,\r\n            loadingData: true,\r\n            myChart: '',\r\n            config: {   // chart configuration\r\n                type: 'line',\r\n                data: {},\r\n                options: {\r\n                    annotation: {\r\n                        annotations: [\r\n                            {\r\n                                drawTime: \"beforeDatasetsDraw\",\r\n                                id: \"verticalLine\",\r\n                                type: \"line\",\r\n                                mode: \"vertical\",\r\n                                scaleID: \"x-axis-0\",\r\n                                value: \"+00:00:00\",\r\n                                borderColor: \"darkgray\",\r\n                                borderWidth: 2\r\n                            },\r\n                            {\r\n                                drawTime: \"beforeDatasetsDraw\",\r\n                                id: \"horizontalLine80\",\r\n                                type: \"line\",\r\n                                mode: \"horizontal\",\r\n                                scaleID: \"y-axis-0\",\r\n                                value: \"70\",\r\n                                borderColor: \"darkgray\",\r\n                                borderDash: [4, 4],\r\n                                borderWidth: 2\r\n                            },\r\n                            {\r\n                                drawTime: \"beforeDatasetsDraw\",\r\n                                id: \"horizontalLine130\",\r\n                                type: \"line\",\r\n                                mode: \"horizontal\",\r\n                                scaleID: \"y-axis-0\",\r\n                                value: \"180\",\r\n                                borderColor: \"darkgray\",\r\n                                borderDash: [4, 4],\r\n                                borderWidth: 2\r\n                            }\r\n                        ]\r\n                    },\r\n                    responsive: true,\r\n                    maintainAspectRatio: false,\r\n                    scales: {\r\n                        xAxes: [{\r\n                            time: {\r\n                                unit: 'date'\r\n                            },\r\n                            ticks: {\r\n                                padding: 10,\r\n                                autoSkip: true,\r\n                                maxTicksLimit: 20,\r\n                            },\r\n                        }],\r\n                        yAxes: [{\r\n                            ticks: {\r\n                                maxTicksLimit: 10,\r\n                                paddings: 10,\r\n                                type: 'linear'\r\n                            },\r\n                        }],\r\n                    },\r\n                    legend: {\r\n                        display: true,\r\n                        position: \"top\"\r\n                    },\r\n                    tooltips: {\r\n                        backgroundColor: \"rgb(255,255,255)\",\r\n                        bodyFontColor: \"#858796\",\r\n                        titleMarginBottom: 10,\r\n                        titleFontColor: '#6e707e',\r\n                        titleFontSize: 14,\r\n                        borderColor: '#dddfeb',\r\n                        borderWidth: 1,\r\n                        xPadding: 15,\r\n                        yPadding: 15,\r\n                        displayColors: false,\r\n                        intersect: false,\r\n                        mode: 'index',\r\n                        caretPadding: 10\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.tagSelected !== prevProps.tagSelected) {\r\n            this.changeTagSelected(this.props.tagSelected).then(() => { // update chart when the selected Tag change\r\n                this.getChartData().then(() => {\r\n                    this.state.myChart.update();\r\n                });\r\n            });\r\n        }\r\n        if (this.props.datetimeRange !== prevProps.datetimeRange) {\r\n            this.changeDatetimeRange(this.props.datetimeRange).then(() => { // update chart when the selected Tag change\r\n                this.getChartData().then(() => {\r\n                    this.state.myChart.update();\r\n                });\r\n            });\r\n        }\r\n        if (this.props.timeSelected !== prevProps.timeSelected) {\r\n            this.changeTimeSelected(this.props.timeSelected).then(() => { // update chart when the selected Tag change\r\n                this.getChartData().then(() => {\r\n                    this.state.myChart.update();\r\n                });\r\n            });\r\n        }\r\n        if (this.props.weekDaysSelected !== prevProps.weekDaysSelected) {\r\n            this.changeWeekDaysSelected(this.props.weekDaysSelected).then(() => { // update chart when the selected Tag change\r\n                this.getChartData().then(() => {\r\n                    this.state.myChart.update();\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    changeTagSelected = async (data) => {\r\n        this.setState({tagSelected: data})\r\n    }\r\n\r\n    changeDatetimeRange = async (data) => {\r\n        this.setState({datetimeRange: data})\r\n    }\r\n\r\n    changeTimeSelected = async (data) => {\r\n        this.setState({timeSelected: data})\r\n    }\r\n\r\n    changeWeekDaysSelected = async (data) => {\r\n        this.setState({weekDaysSelected: data})\r\n    }\r\n\r\n    changeConfig = (data) => {\r\n        this.setState({config: data})\r\n    }\r\n\r\n    changeMyChart = (data) => {\r\n        this.setState({myChart: data})\r\n    }\r\n\r\n    /**\r\n     * retrieves the user's data according to the selected tag and loads the data into the chart\r\n     *\r\n     * @return {Promise<void>}\r\n     */\r\n    async getChartData() {\r\n        this.setState({'loadingData': true});\r\n        const paletteDark = [\"#dc414b\", \"#307aac\", \"#18a060\", \"#8e4e88\", \"#f26542\", \"#36a8dd\", \"#36cb83\", \"#bb5888\", \"#f69e46\", \"#8d8162\"]\r\n        const palette = [\"#E15B64\", \"#3688BF\", \"#1BB16B\", \"#9E5797\", \"#F47E60\", \"#51B4E1\", \"#4DD191\", \"#C46E98\", \"#F8B26A\", \"#9B8F6F\"];\r\n        // const paletteLight = [\"#eb9096\", \"#72afd7\", \"#4ae49c\", \"#bf8bba\", \"#f8a894\", \"#88cceb\", \"#86e0b4\", \"#d79db9\", \"#fac998\", \"#bbb39d\"];\r\n        let showData = {};\r\n        await getChartDataFromTagName(this.state.tagSelected, this.state.datetimeRange, this.state.timeSelected, this.state.weekDaysSelected).then((data) => {\r\n            showData['labels'] = data['chartData'].map((arr) => arr[0]);\r\n            showData['datasets'] = [];\r\n            showData['datasets'].push(this.setAverageDataset(data['chartData']));\r\n            for (let i = 0; i < Object.keys(data['datasetsLabel']).length; i++) {\r\n                let oneDataset = {\r\n                    label: new Date(data['datasetsLabel'][i]).toLocaleString('fr-BE', {hour: '2-digit', minute: '2-digit', second: '2-digit', day: 'numeric', month: 'short', year: 'numeric'}),\r\n                    lineTension: 0.3,\r\n                    borderColor: palette[i],\r\n                    borderWidth: 2,\r\n                    pointRadius: 0,\r\n                    fill: false,\r\n                    pointBackgroundColor: palette[i],\r\n                    pointBorderColor: palette[i],\r\n                    pointHoverRadius: 3,\r\n                    pointHoverBackgroundColor: paletteDark[i],\r\n                    pointHoverBorderColor: paletteDark[i],\r\n                    pointHoverBorderWidth: 3,\r\n                    pointHitRadius: 5,\r\n                    pointBorderWidth: 2,\r\n                    spanGaps: false,\r\n                    data: data['chartData'].map((arr) => arr[1][i])\r\n                };\r\n                showData['datasets'].push(oneDataset);\r\n            }\r\n            let newConfig = this.state.config;\r\n            newConfig.data = showData;\r\n            this.changeConfig(newConfig);\r\n            this.setState({'loadingData': false});\r\n        })\r\n    }\r\n\r\n    setAverageDataset (chartData) {\r\n        let averageLength =  chartData.map(array => array[1].filter(value => value > 0).length);\r\n        return {\r\n            label: \"Average line\",\r\n            lineTension: 0.3,\r\n            borderColor: \"#444444\",\r\n            borderDash: [10, 5],\r\n            borderWidth: 3,\r\n            pointRadius: 0,\r\n            fill: false,\r\n            pointBackgroundColor: \"#444444\",\r\n            pointBorderColor: \"#444444\",\r\n            pointHoverRadius: 3,\r\n            pointHoverBackgroundColor: \"#444444\",\r\n            pointHoverBorderColor: \"#444444\",\r\n            pointHoverBorderWidth: 5,\r\n            pointHitRadius: 5,\r\n            pointBorderWidth: 2,\r\n            spanGaps: false,\r\n            data: (chartData.map(array => array[1].reduce((a, b) => a + b) / averageLength[chartData.indexOf(array)])).map(value => Math.round(value))\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.getChartData();\r\n        this.changeMyChart(new Chart(document.getElementById('myAreaChart').getContext(\"2d\"), this.state.config));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"chart-area d-flex justify-content-center\">\r\n                <canvas className=\"img-fluid h-100 w-100\" id=\"myAreaChart\"/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ChartBasic;\r\n","import React, { Component } from 'react';\r\n\r\n/**\r\n * basic card component inspired of the SB Admin 2 theme\r\n */\r\nclass CardBasicTitle extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    checkMobile() {\r\n        let check = false;\r\n        (function (a) {\r\n            if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series([46])0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \\-/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ /])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;\r\n        })(navigator.userAgent || navigator.vendor || window.opera);\r\n        return check;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ title: this.props.title ? this.props.title : 'Basic Card Example' });\r\n    }\r\n\r\n    setContainerClassName = () => {\r\n        let borderBottom = this.props.color ? \"border-bottom-\" + this.props.color : \"border-bottom-primary\";\r\n        let ret = \"card shadow mb-4 \" + borderBottom;\r\n        ret += !this.checkMobile() ? \" mr-3\" : \" w-100\";\r\n        return ret;\r\n    }\r\n\r\n    setTitleClassName = () => {\r\n        let textColor = this.props.color ? \"text-\" + this.props.color : \"text-primary\";\r\n        return \"text font-weight-bold text-uppercase mb-1 \" + textColor;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.setContainerClassName()}>\r\n                <div className=\"card-body\">\r\n                    <div className=\"no-gutters align-items-center\">\r\n                        <div className=\"col mr-2\">\r\n                            <div className={this.setTitleClassName()}>\r\n                                {this.state.title}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr className=\"sidebar-divider mb-1\"/>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CardBasicTitle;\r\n","import React, {Component} from 'react';\r\nimport {getAllTagsFromUserId} from \"../services/omgServer\";\r\nimport ChartBasic from \"../components/Charts/Line/ChartBasic\";\r\nimport DateTimeRangePicker from '@wojtekmaj/react-datetimerange-picker';\r\nimport CardBasicTitle from \"../components/Cards/CardBasicTitle\";\r\n\r\n/**\r\n * \"web page\" ChartsByTag. Displays a graph according to the chosen tag\r\n */\r\nclass ChartsByTag extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tags: [],   // stores user tags for displaying\r\n            tagSelected: 'Choose a tag...',    // stores the chosen tag\r\n            loadingTags: true,\r\n            dtrp: null,\r\n            fromTime: -1,\r\n            toTime: 3,\r\n            weekDaysSelected: []\r\n        };\r\n    }\r\n\r\n    /**\r\n     * get the user's tags when loading the component\r\n     */\r\n    componentDidMount() {\r\n        getAllTagsFromUserId().then((data) => {\r\n            try {\r\n                data.unshift('Choose a tag...');\r\n                this.setState({'tags': data});\r\n                this.setState({'loadingTags': false});\r\n            } catch (e) {\r\n                console.log(\"error while try to retrieve tags : \" + e);\r\n            }\r\n        });\r\n    }\r\n\r\n    tagChange = (event) => {\r\n        this.setState({'tagSelected': event.target.value});\r\n    }\r\n\r\n    fromTimeChange = (event) => {\r\n        this.setState({'fromTime': event.target.value});\r\n    }\r\n\r\n    toTimeChange = (event) => {\r\n        this.setState({'toTime': event.target.value});\r\n    }\r\n\r\n    weekDaysChange(day) {\r\n        let selected = this.state.weekDaysSelected\r\n        let find = selected.indexOf(day)\r\n\r\n        if(find > -1) {\r\n            selected.splice(find, 1);\r\n        } else {\r\n            selected.push(day);\r\n        }\r\n        this.setState({weekDaysSelected: selected});\r\n    }\r\n\r\n    /**\r\n     * This function loads user's tags in the selector and returns it\r\n     * @return {JSX.Element}\r\n     */\r\n    tagSelector() {\r\n        if (!this.state.loadingTags) {\r\n            return (\r\n                <form>\r\n                    <label htmlFor=\"tagsList\" hidden={true}>Choose a tag :</label>\r\n                    <select className=\"form-control mt-4\" id=\"tagsList\" onChange={this.tagChange} defaultValue={{value: \"Choose a tag...\"}}>\r\n                        {this.state.tags.map(tag => (<option key={tag} value={tag}>{tag}</option>))}\r\n                    </select>\r\n                </form>\r\n            )\r\n        } else {\r\n            return (<p>Loading...</p>)\r\n        }\r\n    }\r\n\r\n    setTimeSelector(begin, end, defaultValue, state) {\r\n        let options = []\r\n        if (end > begin){\r\n            for (let i = begin; i <= end; i++) {\r\n                options.push((<option key={\"optionSelector\" + i} value={i}>{i}</option>));\r\n            }\r\n        }\r\n        else if (begin > end) {\r\n            for (let i = begin; i >= end; i--) {\r\n                options.push((<option key={\"optionSelector\" + i} value={i}>{i}</option>));\r\n            }\r\n        }\r\n        let selector = (<p>error</p>)\r\n        if (state === \"from\") {\r\n            selector = (<select className={\"form-control w-auto\"} defaultValue={defaultValue} onChange={this.fromTimeChange}>\r\n                {options}\r\n            </select>);\r\n        }else if (state === \"to\") {\r\n            selector = (<select className={\"form-control w-auto\"} defaultValue={defaultValue} onChange={this.toTimeChange}>\r\n                {options}\r\n            </select>);\r\n        }\r\n        return selector;\r\n    }\r\n\r\n    setDaysCheckboxes () {\r\n        let weekDays = [[\"Mon\", 1], [\"Tue\", 2], [\"Wed\", 3], [\"Thu\",4], [\"Fri\", 5], [\"Sat\", 6], [\"Sun\", 0]];\r\n        let checkboxes = [];\r\n        weekDays.forEach(day => {\r\n            checkboxes.push((\r\n                <div key={\"checkboxItem\" + day[0] } className=\"form-check form-check-inline\">\r\n                    <input className=\"form-check-input\" type=\"checkbox\" key={\"checkbox\" + day[0] } id={\"checkbox\" + day[0] } value={day[1]} onChange={() => this.weekDaysChange(day[1])}/>\r\n                    <label className=\"form-check-label\" htmlFor={\"checkbox\" + day[0]}>{day[0]}</label>\r\n                </div>\r\n            ));\r\n        })\r\n        return checkboxes;\r\n    }\r\n\r\n    /**\r\n     * Displays the chart as soon as a tag has been selected\r\n     *\r\n     * @return {JSX.Element}\r\n     */\r\n    renderChart() {\r\n        if (this.state.tagSelected === 'Choose a tag...') {\r\n            return (<div/>)\r\n        } else {\r\n            return (\r\n                <CardBasicTitle title={\"Chart\"} color={\"primary\"}>\r\n                    <ChartBasic tagSelected={this.state.tagSelected} datetimeRange={this.state.dtrp} timeSelected={[this.state.fromTime, this.state.toTime]} weekDaysSelected={this.state.weekDaysSelected}/>\r\n                </CardBasicTitle>)\r\n        }\r\n    }\r\n\r\n    // componentDidUpdate(prevProps, prevState, snapshot) {\r\n    //     if (this.state.weekDaysSelected !== prevState.weekDaysSelected) {\r\n    //         console.log(this.state.weekDaysSelected);\r\n    //     }\r\n    // }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid ml-3 mr-1\">\r\n                <div className=\"row d-flex\">\r\n                    <CardBasicTitle title={\"tag\"} color={\"primary\"}>\r\n                        <p className={\"text-center small\"}/>\r\n                        <div className=\"d-flex align-items-center mb-4 ml-4 mr-4\">\r\n                            {this.tagSelector()}\r\n                        </div>\r\n                    </CardBasicTitle>\r\n                    <CardBasicTitle title={\"Chart time range\"}>\r\n                        <p className={\"text-center small\"}>Default : from -1h to +3h</p>\r\n                        <div className=\"align-items-center d-flex\">\r\n                            <p className={\"mb-0 mr-2 w-auto\"}>From :</p>\r\n                            {this.setTimeSelector(-1, -12, -1, \"from\")}\r\n                            <p className={\"mb-0 ml-4 mr-2 w-auto\"}>To :</p>\r\n                            {this.setTimeSelector(1, 12, 3, \"to\")}\r\n                        </div>\r\n                    </CardBasicTitle>\r\n                    <CardBasicTitle title={\"Dates and week days\"}>\r\n                        <p className={\"text-center small\"}>Default : all tag activations are displayed</p>\r\n                        <div className=\"d-flex align-items-center flex-column justify-content-center\">\r\n                            <DateTimeRangePicker\r\n                                onChange={value => this.setState({dtrp: value})}\r\n                                value={this.state.dtrp}\r\n                            />\r\n                            <hr className=\"sidebar-divider mb-1\"/>\r\n                            <div>\r\n                                {this.setDaysCheckboxes()}\r\n                            </div>\r\n                        </div>\r\n                    </CardBasicTitle>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className={\"col-12\"}>\r\n                        {this.renderChart()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ChartsByTag;\r\n","import React, {Component} from 'react';\r\nimport Calendar from 'react-calendar';\r\nimport '../styles/scss/utilities/data_calendar.css';\r\nimport {deleteAll, deleteFile, getDataDays, getImportNames} from \"../services/omgServer\";\r\nimport CardBasicTitle from \"../components/Cards/CardBasicTitle\";\r\n\r\n/**\r\n * Data manager page of the web application\r\n */\r\nclass DataManager extends Component {\r\n    state = {\r\n        dataDays: [],\r\n        importNames: [],\r\n        selectedImport: 'none',\r\n        deleteResults: ''\r\n    };\r\n\r\n    selectedImportChange = (event) => this.setState({selectedImport: event.target.value});\r\n\r\n    refresh = () => {\r\n        getDataDays().then((res) => {\r\n            res = res.map(date => new Date(date));\r\n            res.forEach(date => date.setHours(0, 0, 0, 0));\r\n            this.setState({dataDays: res.map(date => date.toISOString())});\r\n        });\r\n\r\n        if (this.state.dataDays.length > 0) {\r\n            let select = document.getElementById(\"revertImportSelector\")\r\n            for (let i = 1; i < select.childNodes.length; i) {\r\n                select.childNodes[i].remove();\r\n            }\r\n        }\r\n\r\n        getImportNames().then(res => this.setState({importNames: res}));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refresh();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.state.dataDays.length > 0) {\r\n            if (this.state.importNames !== prevState.importNames) {\r\n                document.getElementById(\"revertButton\").setAttribute(\"disabled\", \"true\")\r\n                if (this.state.importNames.length > 0) {\r\n                    document.getElementById(\"selectedOptionRevertImportSelector\").innerText = \"Choose an import\";\r\n                    this.state.importNames.forEach(name => {\r\n                        let opt = document.createElement('option');\r\n                        opt.value = name;\r\n                        opt.innerHTML = name;\r\n                        document.getElementById(\"revertImportSelector\").appendChild(opt);\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (this.state.selectedImport !== prevState.selectedImport) {\r\n                let rvtBtn = document.getElementById(\"revertButton\")\r\n                if (document.getElementById(\"revertForm\").hasChildNodes()) {\r\n                    document.getElementById(\"revertForm\").childNodes.item(0).remove();\r\n                }\r\n                if (rvtBtn.classList.contains(\"btn-warning\")) {\r\n                    rvtBtn.classList.remove(\"btn-warning\");\r\n                    rvtBtn.classList.add(\"btn-outline-warning\");\r\n                    rvtBtn.innerText = \"Revert\";\r\n                }\r\n                if (this.state.selectedImport === \"none\") {\r\n                    rvtBtn.setAttribute(\"disabled\", \"true\");\r\n                } else {\r\n                    rvtBtn.removeAttribute(\"disabled\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    revertClick = () => {\r\n        let rvtBtn = document.getElementById(\"revertButton\");\r\n        if (this.state.selectedImport !== \"none\") {\r\n            if (rvtBtn.classList.contains(\"btn-outline-warning\")) {\r\n                rvtBtn.classList.remove(\"btn-outline-warning\");\r\n                rvtBtn.classList.add(\"btn-warning\");\r\n                rvtBtn.innerText = \"Are you sure ?\";\r\n            } else if (rvtBtn.classList.contains(\"btn-warning\")) {\r\n                rvtBtn.setAttribute(\"disabled\", \"true\");\r\n                rvtBtn.innerText = \"deleting...\";\r\n                deleteFile(this.state.selectedImport).then(res => {\r\n                    if (res[0].ok) {\r\n                        rvtBtn.innerText = \"data deleted\";\r\n                        this.refresh();\r\n                    } else {\r\n                        rvtBtn.innerText = \"Error\";\r\n                        let node = document.createElement(\"p\").appendChild(document.createTextNode(\"Something wrong happened\"));\r\n                        document.getElementById(\"revertForm\").appendChild(node);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    eraseClick = () => {\r\n        let eraseBtn = document.getElementById(\"eraseButton\");\r\n        if (eraseBtn.classList.contains(\"btn-outline-danger\")) {\r\n            eraseBtn.classList.remove(\"btn-outline-danger\");\r\n            eraseBtn.classList.add(\"btn-danger\");\r\n            eraseBtn.innerText = \"Are you sure ?\";\r\n        } else if (eraseBtn.classList.contains(\"btn-danger\")) {\r\n            eraseBtn.setAttribute(\"disabled\", \"true\");\r\n            eraseBtn.innerText = \"deleting...\";\r\n            deleteAll(this.state.selectedImport).then(res => {\r\n                if (res[0].ok) {\r\n                    eraseBtn.innerText = \"data deleted\";\r\n                    this.refresh();\r\n                } else {\r\n                    eraseBtn.innerText = \"Error\";\r\n                    let node = document.createElement(\"p\").appendChild(document.createTextNode(\"Something wrong happened\"));\r\n                    document.getElementById(\"eraseForm\").appendChild(node);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    setCalendar() {\r\n        let calendar = (<p className={\"text-center\"}>No data available</p>);\r\n        if (this.state.dataDays.length > 0) {\r\n            calendar = (<div>\r\n                    <Calendar\r\n                        tileClassName={({date, view}) => {\r\n                            return view === \"month\" && this.state.dataDays.includes(date.toISOString()) ? \"text-success\" : \"text-danger\";\r\n                        }}\r\n                    />\r\n                    <hr className=\"sidebar-divider\"/>\r\n                    <div className=\"d-flex justify-content-between ml-2 mr-4\">\r\n                        <p><span className={\"text-success\"}>Green</span> -> contain data</p>\r\n                        <p><span className={\"text-danger\"}>Red</span> -> no data</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return calendar;\r\n    }\r\n\r\n    setDeleteCard() {\r\n        let ret = (<div/>);\r\n        if (this.state.dataDays.length > 0) {\r\n            ret = (\r\n                <CardBasicTitle color={\"warning\"} title={\"Delete data\"}>\r\n                    <p className={\"text-danger text-center\"}>Warning ! These operations are irreversible</p>\r\n                    <p className={\"font-weight-bold\"}>Revert an import</p>\r\n                    <div className=\"d-flex align-items-center\">\r\n                        <select id={\"revertImportSelector\"} className={\"form-control\"} onChange={this.selectedImportChange} defaultValue={\"none\"}>\r\n                            <option id={\"selectedOptionRevertImportSelector\"} value={\"none\"}>Loading...</option>\r\n                        </select>\r\n                        <button id={\"revertButton\"} className={\"btn btn-outline-warning ml-3\"} onClick={this.revertClick}>Revert</button>\r\n                    </div>\r\n                    <div id={\"revertForm\"} className={\"text-center text-danger mt-2\"}/>\r\n                    <div className={\"mt-4\"}/>\r\n                    <p className={\"font-weight-bold\"}>Erase all data</p>\r\n                    <button id={\"eraseButton\"} className={\"btn btn-outline-danger\"} onClick={this.eraseClick}>Delete all data</button>\r\n                    <div id={\"eraseForm\"} className={\"text-center text-danger mt-2\"}/>\r\n                </CardBasicTitle>\r\n            );\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid ml-2 mr-2 d-flex align-items-start\">\r\n                <CardBasicTitle title={\"Available data\"}>\r\n                    {this.setCalendar()}\r\n                </CardBasicTitle>\r\n                {this.setDeleteCard()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default DataManager;\r\n","import React, {Component} from 'react';\r\n\r\nclass TagsManager extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"container-fluid\"}>\r\n                <p>Tags Manager</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default TagsManager;\r\n","import React, {Component} from 'react';\r\nimport {Nav, NavItem} from \"reactstrap\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nclass Bottombar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tabs: [{\r\n                route: \"/tagshistory\",\r\n                icon: \"fa-history\",\r\n                label: \"History\"\r\n            },{\r\n                route: \"/tagactivation\",\r\n                icon: \"fa-plus-circle\",\r\n                label: \"Activate\"\r\n            },{\r\n                route: \"/tagsmanager\",\r\n                icon: \"fa-wrench\",\r\n                label: \"Manage\"\r\n            }]\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar-nav bg-primary navbar-expand navbar-dark fixed-bottom\" role=\"navigation\">\r\n                <Nav className=\"w-100 mt-2\">\r\n                    <div className=\" d-flex flex-row justify-content-around w-100\">\r\n                        {\r\n                            this.state.tabs.map((tab, index) =>(\r\n                                <NavItem className={\"nav-item\"} key={`tab-${index}`}>\r\n                                    <NavLink activeStyle={{fontWeight: \"bold\", color: \"white\"}} style={{color: \"#dddfeb\"}} to={tab.route} className=\"nav-link\" activeClassName=\"active\">\r\n                                        <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                                            <i className={\"fas fa-lg fa-fw \" + tab.icon}/>\r\n                                            <div className={\"small mt-1\"}>{tab.label}</div>\r\n                                        </div>\r\n                                    </NavLink>\r\n                                </NavItem>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </Nav>\r\n            </nav>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Bottombar;\r\n","import React, {Component} from 'react';\r\nimport CardBasicTitle from \"../Cards/CardBasicTitle\";\r\nimport {getRecentTags, postBasicTag} from \"../../services/omgServer\";\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nclass ActivateBasicTag extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            recentTags: [],\r\n            chosenDatetime: this.getDatePickerFormat(new Date(Date.now())),\r\n            chosenTag: \"\",\r\n            status: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getRecentTags().then((res) => {\r\n            if (res) {\r\n                this.setState({recentTags: res});\r\n            } else {\r\n                console.log(res);\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.state.chosenTag !== prevState.chosenTag) {\r\n            console.log(this.state.chosenTag);\r\n        }\r\n    }\r\n\r\n    chosenDatetimeChange = (event) => {\r\n        this.setState({chosenDatetime: this.getDatePickerFormat(new Date(event.target.value))});\r\n        if (this.state.status !== 0) {\r\n            this.setState({status: 0});\r\n        }\r\n    }\r\n\r\n    recentTagClick = (event) => {\r\n        let manualTagInput = document.getElementById(\"manualBasicTagInput\");\r\n        if (manualTagInput.value !== \"\") {\r\n            manualTagInput.value = \"\";\r\n        }\r\n        this.setState({chosenTag: event.target.value});\r\n        if (this.state.status !== 0) {\r\n            this.setState({status: 0});\r\n        }\r\n    }\r\n\r\n    manualBasicTagInputChange = (event) => {\r\n        let radio = document.querySelector('input[type=\"radio\"][name=\"recentTagsButtons\"]:checked');\r\n        if (radio) {\r\n            radio.checked = false;\r\n            document.getElementById(\"recentTagsLbl\" + radio.id.substr(13)).classList.remove(\"active\");\r\n        }\r\n        this.setState({chosenTag: event.target.value});\r\n\r\n        if (this.state.status !== 0) {\r\n            this.setState({status: 0});\r\n        }\r\n    }\r\n\r\n    basicConfirmButtonClick = () => {\r\n        if (this.state.chosenTag) {\r\n            this.setState({status: 1});\r\n            let chosenDatatimeISO = new Date(this.state.chosenDatetime).toISOString();\r\n            postBasicTag(this.state.chosenTag, chosenDatatimeISO).then(res => {\r\n                if (res){\r\n                    this.setState({status: 2});\r\n                } else {\r\n                    this.setState({status: -1});\r\n                }\r\n            });\r\n        } else {\r\n            document.getElementById(\"basicConfirmButtonInvalidText\").innerText = \"You have to select/enter a tag\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * manages the display of the status of the tag activation (basic confirm button)\r\n     *\r\n     * @return {JSX.Element}\r\n     */\r\n    activationResults() {\r\n        let basicBtn = document.getElementById(\"basicConfirmButton\");\r\n        if (this.state.status === -1) {\r\n            this.changeBasicConfirmButtonStatus(\"btn-danger\", \"error\");\r\n            document.getElementById(\"uploadButtonInvalidText\").innerText = this.state.resultRequest;\r\n        }\r\n        if (this.state.status === 0) {\r\n            this.changeBasicConfirmButtonStatus(\"btn-primary\", \"Activate tag\");\r\n            basicBtn.removeAttribute(\"disabled\");\r\n            document.getElementById(\"basicConfirmButtonInvalidText\").innerText = \"\";\r\n        }\r\n        if (this.state.status === 1) {\r\n            this.changeBasicConfirmButtonStatus(\"btn-primary\", \"activating...\");\r\n        }\r\n        if (this.state.status === 2) {\r\n            this.changeBasicConfirmButtonStatus(\"btn-success\", \"tag activated !\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Visual change of basic confirm button\r\n     *\r\n     * @param newBtnColor\r\n     * @param btnText\r\n     */\r\n    changeBasicConfirmButtonStatus = (newBtnColor, btnText) => {\r\n        let basicBtn = document.getElementById(\"basicConfirmButton\");\r\n        let basicBtnTxt = document.getElementById(\"basicConfirmButtonText\");\r\n        basicBtn.classList.forEach((className) => {\r\n            if (className.startsWith('btn-primary') || className.startsWith('btn-danger') || className.startsWith('btn-success')) {\r\n                basicBtn.classList.remove(className);\r\n            }\r\n        });\r\n        basicBtn.setAttribute(\"disabled\", \"true\");\r\n        basicBtn.classList.add(newBtnColor);\r\n        basicBtnTxt.innerText = btnText;\r\n    }\r\n\r\n    /**\r\n     * Displays recent tags\r\n     *\r\n     * @return {JSX.Element}\r\n     */\r\n    showRecentTags() {\r\n        if (this.state.recentTags.length > 0) {\r\n            return (\r\n                <div className={\"d-flex mt-2 flex-column\"}>\r\n                    <p className={\"mb-0 text-uppercase\"}>Recent tags</p>\r\n                    <div className={\"d-inline-flex flex-wrap btn-group-toggle\"} data-toggle={\"buttons\"}>\r\n                        {\r\n                            this.state.recentTags.map((tag) => (\r\n                                <label id={\"recentTagsLbl\" + this.state.recentTags.indexOf(tag)} key={\"recentTagsLbl\" + this.state.recentTags.indexOf(tag)} className={\"btn btn-outline-primary mt-2 ml-1 mr-1 pl-2 pr-2 pt-1 pb-1\"}>\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name=\"recentTagsButtons\"\r\n                                        key={\"recentTagsBtn\" + this.state.recentTags.indexOf(tag)}\r\n                                        id={\"recentTagsBtn\" + this.state.recentTags.indexOf(tag)}\r\n                                        value={tag}\r\n                                        onClick={this.recentTagClick}\r\n                                    />\r\n                                    {tag}\r\n                                </label>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <p>No tag previously activated.</p>\r\n            );\r\n        }\r\n    };\r\n\r\n    manualTag() {\r\n        return (\r\n            <div className={\"mt-3\"}>\r\n                <p className={\"mb-2 text-uppercase\"}>Manual</p>\r\n                <input\r\n                    id={\"manualBasicTagInput\"}\r\n                    className={\"form-control form-control-plaintext border pl-2 border-bottom-primary\"}\r\n                    placeholder={\"Enter a tag\"}\r\n                    onChange={this.manualBasicTagInputChange}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showDatetime() {\r\n        return (\r\n            <div className={\"mt-3 d-flex flex-column\"}>\r\n                <p className={\"mb-1 text-uppercase\"}>Datetime</p>\r\n                <TextField\r\n                    value={this.state.chosenDatetime}\r\n                    onChange={this.chosenDatetimeChange}\r\n                    id=\"datetimePickerBasicTag\"\r\n                    type=\"datetime-local\"\r\n                    className={\"w-100 rounded\"}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    roundTo5Minutes(date) {\r\n        let coeff = 1000 * 60 * 5;\r\n        return new Date(Math.round(date.getTime() / coeff) * coeff);\r\n    }\r\n\r\n    getDatePickerFormat(date) {\r\n        let initDate = this.roundTo5Minutes(date);\r\n        initDate.setUTCHours(initDate.getUTCHours() - initDate.getTimezoneOffset() / 60);\r\n        return initDate.toISOString().substr(0, 16);\r\n    }\r\n\r\n    showBasicConfirmButton() {\r\n        return (\r\n            <div className=\"mt-4 align-self-center d-flex flex-column\">\r\n                <div id={\"basicConfirmButtonInvalidText\"} className={\"text-danger mb-2 align-self-center\"}/>\r\n                <button id={\"basicConfirmButton\"} className=\"btn btn-primary align-self-center\" onClick={this.basicConfirmButtonClick}>\r\n                    <span id={\"basicConfirmButtonText\"} className=\"text\">Activate tag</span>\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <CardBasicTitle title={\"Activate basic tag\"}>\r\n                <div className={\"d-flex flex-column\"}>\r\n                    {this.showRecentTags()}\r\n                    {this.manualTag()}\r\n                    {this.showDatetime()}\r\n                    {this.showBasicConfirmButton()}\r\n                    {this.activationResults()}\r\n                </div>\r\n            </CardBasicTitle>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default ActivateBasicTag;\r\n","import React, {Component} from 'react';\r\nimport ActivateBasicTag from \"../components/TagActivation/ActivateBasicTag\";\r\n\r\nclass TagActivation extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className={\"d-flex w-100\"}>\r\n                    <ActivateBasicTag/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TagActivation;\r\n","import React, {Component} from \"react\";\r\n\r\nclass CardHistory extends Component {\r\n\r\n    checkMobile() {\r\n        let check = false;\r\n        (function (a) {\r\n            if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series([46])0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \\-/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ /])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;\r\n        })(navigator.userAgent || navigator.vendor || window.opera);\r\n        return check;\r\n    }\r\n\r\n    setContainerClassName = () => {\r\n        let ret = \"card mb-2\";\r\n        ret += !this.checkMobile() ? \" mr-3\" : \" w-100\";\r\n        return ret;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.setContainerClassName()} style={{backgroundColor: 'white'}}>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CardHistory;\r\n","import React, {useState} from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {putOneTag} from \"../../services/omgServer\";\r\n\r\nexport default function EditTagDialog(props) {\r\n\r\n    const roundTo5Minutes = (date) => {\r\n        let coeff = 1000 * 60 * 5;\r\n        return new Date(Math.round(date.getTime() / coeff) * coeff);\r\n    }\r\n\r\n    const getDatePickerFormat = (date) => {\r\n        let initDate = roundTo5Minutes(date);\r\n        initDate.setUTCHours(initDate.getUTCHours() - initDate.getTimezoneOffset() / 60);\r\n        return initDate.toISOString().substr(0, 16);\r\n    }\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n    const [tagName, setTagName] = useState(props.tagName);\r\n    const [tagDatetime, setTagDatetime] = useState(getDatePickerFormat(new Date(props.tagDatetime)));\r\n    const [tagId] = useState(props.tagId);\r\n\r\n    const editTagNameInputChange = (event) => {\r\n        setTagName(event.target.value);\r\n    }\r\n\r\n    const editTagDatetimeChange = (event) => {\r\n        setTagDatetime(getDatePickerFormat(new Date(event.target.value)));\r\n    }\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        document.getElementById(\"editTagResultRequestTag\").innerText = '';\r\n        refreshPage();\r\n    };\r\n\r\n    const applyChanges = () => {\r\n        console.log(tagName + \"  \" + tagId + \"  \" + new Date(tagDatetime));\r\n        putOneTag(tagName, tagId, tagDatetime).then((res) => {\r\n            document.getElementById(\"editTagResultRequestTag\").innerText = res;\r\n        })\r\n    }\r\n\r\n    const refreshPage = () => {\r\n        window.location.reload(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <button className={\"btn btn-warning\"} onClick={handleClickOpen}>\r\n                Edit\r\n            </button>\r\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"editTag-dialog-title\">\r\n                <DialogTitle id=\"editTagDialogTitle\" className={\"text-warning pb-0\"}>Edit Tag</DialogTitle>\r\n                <DialogContent className={\"ml-2 mr-2\"}>\r\n                    <div className=\"row form-group mt-2\">\r\n                        <label className={\"form-check-label\"} htmlFor=\"editTagNameInput\">Name</label>\r\n                        <input type=\"text\" className={\"form-control\"} id=\"editTagNameInput\" value={tagName} onChange={editTagNameInputChange}/>\r\n                        <div className={\"invalid-feedback\"}>You have to enter a tag name</div>\r\n                    </div>\r\n                    <div className=\"row form-group mt-2\">\r\n                        <label className={\"form-check-label\"} htmlFor=\"editTagDatetime\">Activation datetime</label>\r\n                        <TextField\r\n                            value={tagDatetime}\r\n                            onChange={editTagDatetimeChange}\r\n                            id=\"editTagDatetime\"\r\n                            type=\"datetime-local\"\r\n                            className={\"w-100 rounded\"}\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex row form-group mt-2\">\r\n                        <div id={\"editTagResultRequestTag\"} className={\"text-center text-info\"}/>\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <button id={\"editTagApplyButton\"} onClick={applyChanges} className={\"btn text-warning ml-0\"}>\r\n                        Apply\r\n                    </button>\r\n                    <button onClick={handleClose} className={\"btn\"}>\r\n                        Close\r\n                    </button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React, {Component} from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport {getCountAllActivations, getTagsHistory} from \"../services/omgServer\";\r\nimport CardHistory from \"../components/Cards/CardHistory\";\r\nimport EditTagDialog from \"../components/Dialogs/EditTagDialog\";\r\n\r\nclass TagsHistory extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: Array.from({length: 20}),\r\n            tagsHistory: this.loadTags(new Date(Date.now()).toISOString()),\r\n            tagHistoryCount: null  // Number of tags activation for one user\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        getCountAllActivations().then((res) => this.setState({tagsHistoryCount: res}));\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.state.tagsHistory !== prevState.tagsHistory) {\r\n            console.log(this.state.tagsHistory);\r\n        }\r\n        if (this.state.tagsHistoryCount !== prevState.tagsHistoryCount) {\r\n            console.log(this.state.tagsHistoryCount);\r\n        }\r\n    }\r\n\r\n    loadTags = (datetime) => {\r\n        let datetimeBegin = datetime ? datetime : this.state.tagsHistory[this.state.tagsHistory.length - 1][\"updatedAt\"];\r\n        getTagsHistory(datetimeBegin).then((data) => {\r\n            if (this.state.tagsHistory) {\r\n                this.setState({tagsHistory: this.state.tagsHistory.concat(data)})\r\n            } else {\r\n                this.setState({tagsHistory: data})\r\n            }\r\n        });\r\n    }\r\n\r\n    setInfiniteScrollContent() {\r\n        let message = (<div>Loading...</div>)\r\n        if (this.state.tagsHistory) {\r\n            message = this.state.tagsHistory.map((tag) => (\r\n                <div key={\"containerCard\" + tag[\"name\"] + this.state.tagsHistory.indexOf(tag)}>\r\n                    <CardHistory>\r\n                        {/* <!-- Card Header - Accordion --> */}\r\n                        <a href={\"#tagCard\" + tag[\"name\"] + this.state.tagsHistory.indexOf(tag)} className=\"card-header collapsed\" data-toggle=\"collapse\" role=\"button\" aria-expanded=\"true\"\r\n                           aria-controls={\"tagCard\" + tag[\"name\"] + this.state.tagsHistory.indexOf(tag)}>\r\n                            <div className={\"d-flex justify-content-between\"}>\r\n                                <div className={\"font-weight-bold text-lg text-primary\"}>\r\n                                    {tag[\"name\"]}\r\n                                </div>\r\n                                <div className={\"small text-gray-500\"}>\r\n                                    {new Date(tag[\"updatedAt\"]).toLocaleString()}\r\n                                </div>\r\n                            </div>\r\n                            <div className={\"text-lg text-center mt-2 text-gray-700\"}>\r\n                                {new Date(tag[\"startDatetime\"]).toLocaleDateString([], {\"weekday\": \"short\", 'day': '2-digit', 'month': \"short\", \"year\": \"numeric\", \"hour\": '2-digit', \"minute\": \"2-digit\"})}\r\n                            </div>\r\n\r\n                        </a>\r\n                        {/*<!-- Card Content - Collapse -->*/}\r\n                        <div className=\"collapse\" id={\"tagCard\" + tag[\"name\"] + this.state.tagsHistory.indexOf(tag)}>\r\n                            <div className=\"card-body d-flex justify-content-around\">\r\n                                <EditTagDialog tagName={tag[\"name\"]} tagDatetime={tag[\"startDatetime\"]} tagId={tag[\"id\"]}/>\r\n                                <button className={\"btn btn-danger\"}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    </CardHistory>\r\n                </div>\r\n            ));\r\n        }\r\n        return message;\r\n    }\r\n\r\n    hasMore = () => {\r\n        let ret = true;\r\n        if (this.state.tagHistoryCount) {\r\n            if (this.state.tagHistoryCount <= this.state.tagsHistory.length) {\r\n                ret = false;\r\n            }\r\n        }\r\n        console.log(ret);\r\n        return ret;\r\n    }\r\n\r\n    setInfiniteScrollComponent() {\r\n        if (this.state.tagsHistory) {\r\n            return (\r\n                // <div>ok</div>\r\n                <div>\r\n                    <InfiniteScroll\r\n                        dataLength={this.state.tagsHistory.length}\r\n                        next={this.loadTags}\r\n                        hasMore={this.hasMore()}\r\n                        loader={<p>Loading...</p>}>\r\n                        {this.setInfiniteScrollContent()}\r\n                    </InfiniteScroll>\r\n                    <div className={\"mt-3\"}/>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (<div>Loading...</div>);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div>\r\n                    {this.setInfiniteScrollComponent()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TagsHistory;\r\n","import React, {Component} from \"react\";\r\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {instanceOf} from \"prop-types\";\r\nimport {Cookies, withCookies} from 'react-cookie';\r\n\r\nimport Sidebar from \"./components/Navigation/Sidebar\";\r\nimport Topbar from \"./components/Navigation/Topbar\";\r\nimport SignIn from \"./pages/SignIn\";\r\nimport SignUp from \"./pages/SignUp\";\r\n\r\n//Pages\r\nimport NotFound from \"./pages/NotFound\";\r\nimport Home from \"./pages/Home\";\r\nimport Import from \"./pages/Import\";\r\nimport ChartsByTag from \"./pages/ChartsByTag\";\r\nimport DataManager from \"./pages/DataManager\";\r\nimport store from \"./redux/store\";\r\nimport {verifyToken} from \"./services/omgServer\";\r\nimport TagsManager from \"./pages/TagsManager\";\r\nimport Bottombar from \"./components/Navigation/Bottombar\";\r\nimport TagActivation from \"./pages/TagActivation\";\r\nimport TagsHistory from \"./pages/TagHistory\";\r\n\r\n/**\r\n * Routing component. Manage authentification too.\r\n * @return BrowserRouter\r\n */\r\nclass Routes extends Component {\r\n\r\n    static propTypes = {\r\n        cookies: instanceOf(Cookies).isRequired\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.setCookie(\"method\", \"in\");\r\n        document.getElementById('body').style.backgroundColor = \"#f8f9fc\"\r\n        this.state = {\r\n            requestLoading: 0,\r\n            requestOk: false\r\n        }\r\n    }\r\n\r\n    checkMobile() {\r\n        let check = false;\r\n        (function (a) {\r\n            if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\r\n        })(navigator.userAgent || navigator.vendor || window.opera);\r\n        return check;\r\n    }\r\n\r\n    showAuth() {\r\n        if (this.getCookie(\"method\")) {\r\n            // returns the appropriate authentication page based on the method registered in the redux store\r\n            if (this.getCookie(\"method\") === 'in') {\r\n                return <SignIn/>;\r\n            }\r\n            if (this.getCookie(\"method\") === 'up') {\r\n                return <SignUp/>;\r\n            }\r\n        }\r\n    }\r\n\r\n    testKey() {\r\n        let apiKey = this.getCookie(\"apiKey\");\r\n        store.dispatch({type: 'SETKEY', value: apiKey});\r\n        verifyToken().then((res) => {\r\n            this.setState({requestOk: res.ok});\r\n            this.setState({requestLoading: 2});\r\n        });\r\n    }\r\n\r\n    isConnected = () => {\r\n        switch (this.state.requestLoading) {\r\n            case 0:\r\n                console.log(0);\r\n                if (this.getCookie('apiKey')) {\r\n                    console.log(10);\r\n                    if (this.getCookie(\"apiKey\").includes(\"ey\")) {\r\n                        console.log(110);\r\n                        if (store.getState().storeApiKey.apiKey === this.getCookie(\"apiKey\")) {\r\n                            console.log(1110);\r\n                            return this.showRouter();\r\n                        } else {\r\n                            console.log(-1110);\r\n                            this.testKey();\r\n                            this.setState({requestLoading: 1});\r\n                        }\r\n                    } else {\r\n                        console.log(-110);\r\n                        return this.showAuth();\r\n                    }\r\n                } else {\r\n                    console.log(-10);\r\n                    return this.showAuth();\r\n                }\r\n                break;\r\n            case 1:\r\n                console.log(1);\r\n                return (<p>Loading...</p>);\r\n            case 2:\r\n                console.log(2);\r\n                if (this.state.requestOk) {\r\n                    this.setState({requestLoading: 0});\r\n                    return this.showRouter();\r\n\r\n                } else {\r\n                    this.setState({requestLoading: 0});\r\n                    return this.showAuth();\r\n                }\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    showRouter() {\r\n        return (\r\n            <div>\r\n                {/* <!-- Page Wrapper --> */}\r\n                <div id=\"wrapper\" className={\"bg-danger\"}>\r\n                    {/* <!-- Sidebar --> */}\r\n                    {this.checkMobile() ? <div/> : <Sidebar/>}\r\n                    {/* <!-- End of Sidebar --> */}\r\n                    {/* <!-- Content Wrapper --> */}\r\n                    <div id=\"content-wrapper\" className=\"d-flex flex-column\">\r\n                        {/* <!-- Main Content --> */}\r\n                        <div id=\"content\">\r\n                            {/* <!-- Topbar --> */}\r\n                            <Topbar/>\r\n                            {/* <!-- End of Topbar --> */}\r\n                            {/* <!-- Router switch --> */}\r\n                            <div className=\"row\">\r\n                                <Switch>\r\n                                    <Redirect from='/dashboard?' to='/'/>\r\n                                    <Route exact path=\"/\" component={Home}/>\r\n                                    <Route path=\"/index\" component={Home}/>\r\n                                    <Route path=\"/datamanager\" component={DataManager}/>\r\n                                    <Route path=\"/tagsmanager\" component={TagsManager}/>\r\n                                    <Route path=\"/tagactivation\" component={TagActivation}/>\r\n                                    <Route path=\"/tagshistory\" component={TagsHistory}/>\r\n                                    <Route path=\"/import\" component={Import}/>\r\n                                    <Route path=\"/chartsbytag\" component={ChartsByTag}/>\r\n                                    <Route path=\"*\" component={NotFound}/>\r\n                                </Switch>\r\n                            </div>\r\n                            {/* <!-- End of Router switch --> */}\r\n                        </div>\r\n                        {/* <!-- End of Main Content --> */}\r\n                        {/* <!-- Footer --> */}\r\n                        {this.showFooter()}\r\n                        {/* <!-- End of Footer --> */}\r\n                    </div>\r\n                    {/* <!-- End of Content Wrapper --> */}\r\n                </div>\r\n                {/* <!-- End of Page Wrapper --> */}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showFooter() {\r\n        if (this.checkMobile()) {\r\n            return <Bottombar/>;\r\n        } else {\r\n            return (\r\n                <footer className=\"row sticky-footer bg-white\">\r\n                    <div className=\"container my-auto\">\r\n                        <div className=\"copyright text-center my-auto\">\r\n                            <span>OMG web 2021</span>\r\n                        </div>\r\n                    </div>\r\n                </footer>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <BrowserRouter>\r\n                {this.isConnected()}\r\n            </BrowserRouter>\r\n\r\n        );\r\n    }\r\n\r\n    setCookie = (name, key) => {\r\n        this.props.cookies.set(name, key);\r\n    }\r\n\r\n    getCookie = (name) => {\r\n        return this.props.cookies.get(name);\r\n    }\r\n\r\n}\r\n\r\nexport default withCookies(Routes);\r\n","import React, {Component} from \"react\";\nimport Routes from \"./routes\";\n\nclass App extends Component {\n    render() {\n        return <Routes />;\n    }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {CookiesProvider} from \"react-cookie\";\r\n\r\n//SBAdmin2 Style\r\nimport './styles/scss/sb-admin-2.scss';\r\n\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\n\r\n\r\n//Redux\r\nimport {Provider} from 'react-redux';\r\nimport Store from './redux/store';\r\n\r\nReactDOM.render(\r\n    <CookiesProvider>\r\n        <Provider store={Store}>\r\n            <App/>\r\n        </Provider>\r\n    </CookiesProvider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}